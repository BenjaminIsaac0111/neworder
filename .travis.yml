
cache: packages

sudo: true

matrix:
  include:
    - language: node_js
      node_js:
      - "8"

    - name: native_cpp
      before_install: 
      - sudo apt-get update
      - sudo apt-get -y install build-essential python3 python3-dev python3-pip
      script: 
#      - python3 -m pip install numpy pandas --upgrade --ignore-installed
      - python3 -m pip install numpy pandas
      - make && make test

    - language: python
      python: 3.4
      script:
      - sudo apt install libboost-python libboost-numpy
      - python3 -m pip install numpy pandas 
      - make PYVER=3.4 && make PYVER=3.4 test

  allow_failures:
    - name: native_cpp

#after_success:
#  - Rscript -e 'covr::codecov()'

warnings_are_errors: false

notifications:
  email:
    on_success: change
    on_failure: change

